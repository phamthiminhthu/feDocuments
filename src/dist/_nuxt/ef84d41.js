(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{578:function(t,e,n){"use strict";n.r(e);var r=n(260),o=n(271),l=n(269),c=n(202),m=n(3),f=(n(40),n(24),{data:function(){return{status:null}},props:{username:{type:String,default:null,required:!0},countFollowing:{type:Number,default:0},countFollower:{type:Number,default:0}},mounted:function(){this.getUserByUsername(),this.getInforFollowing()},computed:{user:function(){return this.$store.getters["user/getUser"]}},methods:{getUserByUsername:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("user/fetchDataUserByUsername",{username:t.username});case 2:case"end":return e.stop()}}),e)})))()},getInforFollowing:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/user/status/following?username=".concat(t.username));case 3:(n=e.sent)&&(t.status=n.data.content),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},changeStatusFollow:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Follow"!==t.status){e.next=8;break}return e.next=4,t.$axios.post("/user/follow?username=".concat(t.username));case 4:e.sent&&(t.status="Unfollow",t.$emit("update-status-follow")),e.next=16;break;case 8:if("Unfollow"!==t.status){e.next=15;break}return e.next=11,t.$axios.post("/user/unfollow?username=".concat(t.username));case 11:e.sent&&(t.status="Follow",t.$emit("update-status-follow")),e.next=16;break;case 15:"Edit Profile"===t.status&&(t.$cookies.set("groupIndex",3),t.$cookies.set("itemIndex",0),t.$router.push("/profile/".concat(t.username,"/edit")));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()}}}),d=n(27),component=Object(d.a)(f,(function(){var t=this,e=t._self._c;return t.user?e("div",{staticClass:"mt-12"},[e("div",{staticClass:"avatar text-center"},[null==t.user.image?e("div",[e("img",{staticStyle:{margin:"0 auto"},attrs:{src:n(276),alt:"avatar"}})]):e("div",[e(r.a,{attrs:{size:"240"}},[e("img",{attrs:{src:t.user.image,alt:t.user.username}})])],1)]),t._v(" "),e("div",{staticClass:"information-profile text-center"},[null!==t.user.fullname?e("div",{staticClass:"mt-5 landing-font-24 font-bold"},[t._v("\n      "+t._s(t.user.fullname)+"\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"landing-font-20 mt-3 font-semibold"},[e("nuxt-link",{attrs:{to:"/profile/".concat(t.user.username)}},[t._v("\n        "+t._s(t.user.username)+"\n      ")])],1),t._v(" "),null!=t.user.introduce?e("div",{staticClass:"landing-font-18 mt-4"},[t._v("\n      "+t._s(t.user.introduce)+"\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"mt-6"},[e(l.a,{staticClass:"ma-2",attrs:{color:"amber darken-4",label:"","text-color":"white"}},[e("nuxt-link",{attrs:{to:"/profile/".concat(t.user.username,"/follower")}},[e(c.a,{attrs:{left:"",color:"white"}},[t._v(" mdi-account-heart ")]),t._v(" "),e("span",{staticStyle:{color:"white"}},[e("strong",[t._v(t._s(t.countFollower))]),t._v(" "),e("span",{staticClass:"ml-2 subheading"},[t._v(" Follower ")])])],1)],1),t._v(" "),e(c.a,[t._v("mdi-minus")]),t._v(" "),e(l.a,{staticClass:"ma-2",attrs:{color:"amber darken-1",label:"","text-color":"white"}},[e("nuxt-link",{attrs:{to:"/profile/".concat(t.user.username,"/following")}},[e(c.a,{attrs:{left:"",color:"white"}},[t._v(" mdi-account-star ")]),t._v(" "),e("span",{staticStyle:{color:"white"}},[e("strong",[t._v(" "+t._s(t.countFollowing))]),t._v(" "),e("span",{staticClass:"ml-2"},[t._v(" Following ")])])],1)],1)],1),t._v(" "),e("div",{staticClass:"mt-5"},[e(o.a,{staticClass:"ma-2",attrs:{outlined:"",color:"amber darken-4"},on:{click:t.changeStatusFollow}},[t._v("\n        "+t._s(t.status)+"\n      ")])],1)])]):t._e()}),[],!1,null,null,null);e.default=component.exports}}]);