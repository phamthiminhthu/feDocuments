(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{577:function(e,t,n){"use strict";n.r(t);var o=n(704),r=n(271),c=n(266),l=n(8),d=n(269),m=n(566),f=n(681),v=n(568),h=n(202),x=n(256),_=n(164),y=n(261),k=n(25),D=n(262),w=n(92),C=n(679),O=n(1);n(32),n(279),n(9),n(12),n(11),n(4),n(14),n(10),n(15);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function A(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var G=n(3),R=(n(40),n(57),n(91),n(572)),$=n(567);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(O.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T={data:function(){return{selectedFile:null,loading:!1,loader:null,rules:[function(e){return!e||e.size<16e6||"Avatar size should be less than 9 MB!"}],search:"",selected:[],document:{},users:[],headers:[{text:"",value:"favorite",sortable:!1},{text:"Authors",align:"start",sortable:!1,value:"authors"},{text:"Title",sortable:!1,value:"title"},{text:"Year",value:"publishingYear"},{text:"Added",value:"createdAt"},{text:"Type Document",sortable:!1,value:"typeDocumentsList"},{text:"Actions",value:"actions",sortable:!1}],actions:[{text:"Show",icon:"mdi-eye",component:"DocumentShowCard"},{text:"Edit",icon:"mdi-pencil",component:"DocumentEditCard"},{text:"Share",icon:"mdi-share",component:"DocumentShareCard"}],sheet:!1,moveItems:["Add To Collection","Add To Group"],offset:!0,addCollectionDialog:!1,collections:[],addGroupDialog:!1,groups:[],addToCollectionGroupDialog:!1}},props:{documents:{type:Array,default:function(){return[]}},status:{type:String,default:null},groupId:null},computed:{formattedDocuments:function(){var e=this;return this.documents.map((function(t){return P(P({},t),{},{id:t.id,createdAt:e.formatDate(t.createdAt),dialog:{show:!1,edit:!1,share:!1}})}))},formatDocumentsToCollections:function(){return this.selected.map((function(e){return e.id}))}},methods:{formatDate:function(e){var t=new Date(e);return Object(R.a)(t)?Object($.a)(t,"hh:mm aa"):Object($.a)(t,"dd/MM/yyyy")},enterSelect:function(){this.selected.length==this.itemsPerPage&&alert("selected all"),this.selected.length>0?this.sheet=!0:this.sheet=!1},handleChange:function(e){e.loved=1===e.loved?0:1,this.updateLovedStatus(e.id,e.loved)},updateLovedStatus:function(e,t){var n=this;return Object(G.a)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n.$axios.post("/management/document/loved/update?documentKey=".concat(e));case 3:o.sent&&(r=n.formattedDocuments.find((function(t){return t.id===e})))&&(r.loved=t,n.$emit("documents-updated"),n.selected=[]),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(o.t0.message);case 10:case"end":return o.stop()}}),o,null,[[0,7]])})))()},closeDialog:function(e,text){e.dialog[text.toLowerCase()]=!1},handleDocumentSelected:function(e){var t=this;return Object(G.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("document/fetchDataDocumentByDocumentKey",{documentKey:e.id});case 2:return t.document=t.$store.getters["document/getDocument"],n.next=5,t.$store.dispatch("document/fetchDataUsersSharedDocumentByDocumentKey",{documentKey:t.document.documentKey});case 5:t.users=t.$store.getters["document/getUsers"];case 6:case"end":return n.stop()}}),n)})))()},handleDocumentUpdated:function(){this.$emit("documents-updated")},notifyUsersUpdated:function(e){this.users=e},deleteDocument:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.selected.map((function(e){return e.id})),null!=e.groupId){t.next=12;break}return t.prev=2,t.next=5,e.$axios.post("/management/document/delete/trash",n);case 5:t.sent&&(e.sheet=!1,e.$emit("documents-updated"),e.selected=[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},deleteDocumentFromGroup:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!=e.groupId&&(n=e.selected.map((function(e){return e.id})),e.$emit("delete-documents-group",n),e.selected=[]);case 1:case"end":return t.stop()}}),t)})))()},putBackDocs:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.selected.map((function(e){return e.id})),console.log(n),t.prev=2,t.next=5,e.$axios.post("/management/document/undo",n);case 5:t.sent&&(e.sheet=!1,e.$emit("documents-updated"),e.selected=[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},deletePermanently:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.selected.map((function(e){return e.id})),t.prev=1,t.next=4,e.$axios.post("/management/document/delete",n);case 4:t.sent&&(e.sheet=!1,e.$emit("documents-updated"),e.selected=[]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},addToCollection:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAllCollections();case 2:e.collections=e.$store.getters["collections/getCollectionsAll"],e.addCollectionDialog=!0;case 4:case"end":return t.stop()}}),t)})))()},getAllCollections:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("collections/fetchAllCollections");case 2:case"end":return t.stop()}}),t)})))()},addDocumentCollection:function(e){var t=this;return Object(G.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t.groupId){n.next=14;break}if(!(e.length>0&&t.formatDocumentsToCollections.length>0)){n.next=12;break}return n.prev=2,n.next=5,t.$axios.post("/owner/management/collection/document/move/documents",{idCollections:e,documentKeys:t.formatDocumentsToCollections});case 5:n.sent&&(t.addCollectionDialog=!1,t.selected=[]),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0);case 12:n.next=25;break;case 14:if(!(e.length>0&&t.formatDocumentsToCollections.length>0)){n.next=25;break}return n.prev=15,n.next=18,t.$axios.post("/management/group/".concat(t.groupId,"/collection/move/documents"),{idCollections:e,documentKeys:t.formatDocumentsToCollections});case 18:n.sent&&(t.addCollectionDialog=!1,t.selected=[]),n.next=25;break;case 22:n.prev=22,n.t1=n.catch(15),console.log(n.t1);case 25:case"end":return n.stop()}}),n,null,[[2,9],[15,22]])})))()},addToGroup:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchAllGroups();case 2:e.groups=e.$store.getters["groups/getGroups"],e.addGroupDialog=!0;case 4:case"end":return t.stop()}}),t)})))()},addDocumentGroup:function(e){var t=this;return Object(G.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$axios.post("management/group/document/move",{idGroups:e,documentKeys:t.formatDocumentsToCollections});case 3:n.sent&&(t.addGroupDialog=!1,t.selected=[]),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},fetchAllGroups:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("groups/fetchAllGroups");case 2:case"end":return t.stop()}}),t)})))()},addToCollectionGroup:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCollectionsGroup();case 2:e.collections=e.$store.getters["groups/getCollectionsGroup"],e.addCollectionDialog=!0;case 4:case"end":return t.stop()}}),t)})))()},fetchCollectionsGroup:function(){var e=this;return Object(G.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.groupId){t.next=3;break}return t.next=3,e.$store.dispatch("groups/fetchCollectionGroup",{groupId:e.groupId});case 3:case"end":return t.stop()}}),t)})))()}}},M=(n(644),n(27)),component=Object(M.a)(T,(function(){var e=this,t=e._self._c;return t("div",[t(c.a,[t(l.c,[t(w.a,{attrs:{"append-icon":"mdi-magnify",label:"Search",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),t(f.a,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.formattedDocuments,search:e.search,"item-key":"id","show-select":"share"!==e.status},on:{input:function(t){return e.enterSelect()}},scopedSlots:e._u([{key:"item.typeDocumentsList",fn:function(n){var o=n.item;return[null!=o.typeDocumentsList&&o.typeDocumentsList.length>0?[t(c.a,{staticClass:"mx-0 !shadow-none"},[t(x.a,{staticClass:"hover:bg-gray-50!"},[t(y.a,e._l(o.typeDocumentsList,(function(n){return t(_.a,{key:n.id,staticClass:"!p-0 !min-h-[30px]"},[t(d.a,{attrs:{color:"green",outlined:"",small:""}},[e._v(e._s(n.typeName))])],1)})),1)],1)],1)]:e._e()]}},"trash"!=e.status?{key:"item.actions",fn:function(n){var o=n.item;return[t(m.a,{attrs:{multiple:"","active-class":"primary--text"}},e._l(e.actions,(function(n){return"share"!=e.status||"share"==e.status&&"Edit"!=n.text?t(d.a,{key:o.id+n.text,attrs:{color:"#111827"}},[t(v.a,{attrs:{persistent:"","max-width":"680px","retain-focus":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var dialog=r.on,c=r.attrs;return[t(C.a,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var l=r.on,d=r.attrs;return[t(h.a,e._g(e._b({key:o.id+n.text,attrs:{small:"",dark:"",color:"white"},on:{click:function(t){return e.handleDocumentSelected(o)}}},"v-icon",A(A({},c),d),!1),A(A({},l),dialog)),[e._v("\n                      "+e._s(n.icon)+"\n                    ")])]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(n.text))])])]}}],null,!0),model:{value:o.dialog[n.text.toLowerCase()],callback:function(t){e.$set(o.dialog,n.text.toLowerCase(),t)},expression:"item.dialog[action.text.toLowerCase()]"}},[e._v(" "),e.document.documentKey?t(n.component,{key:o.id+n.text,tag:"component",attrs:{document:e.document,users:e.users,action:e.status},on:{"close-dialog":function(t){return e.closeDialog(o,n.text)},"document-update":e.handleDocumentUpdated,"users-updated":e.notifyUsersUpdated}}):e._e()],1)],1):e._e()})),1)]}}:null,null==e.status?{key:"item.favorite",fn:function(n){var o=n.item;return[t(d.a,{attrs:{color:"#111827"}},[t(C.a,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,c=n.attrs;return[t(h.a,e._g(e._b({attrs:{color:1===o.loved?"yellow":"white",small:"",dark:""},on:{click:function(t){return e.handleChange(o)}}},"v-icon",c,!1),r),[e._v("\n                mdi-heart-outline\n              ")])]}}],null,!0)},[e._v(" "),0===o.loved?t("span",[e._v("Love")]):t("span",[e._v("Unlove")])])],1)]}}:null],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),t("div",{staticClass:"actions-docs"},["trash"!=e.status?t("div",{staticClass:"text-center"},[e.sheet?t(o.a,{staticClass:"!fixed right-0 z-50",attrs:{color:"primary"}},[t(D.a,{attrs:{top:"","offset-y":e.offset,rounded:"lg"},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on,c=n.attrs;return[t(r.a,e._g(e._b({},"v-btn",c,!1),o),[t("span",[e._v("Organize")]),e._v(" "),t(h.a,[e._v("mdi-apple-keyboard-control")])],1)]}}],null,!1,2901173682)},[e._v(" "),t(x.a,[t(_.a,{attrs:{link:""},on:{click:e.addToCollection}},[t(k.c,[e._v("Add To Collection")])],1),e._v(" "),null!=e.groupId?t(_.a,{attrs:{link:""},on:{click:e.addToCollectionGroup}},[t(k.c,[e._v("Add To Group's Collection")])],1):e._e(),e._v(" "),t(_.a,{attrs:{link:""}},[t(k.c,{on:{click:e.addToGroup}},[e._v("\n                Add To Group\n              ")])],1)],1)],1),e._v(" "),t(r.a,[t("span",[e._v("Recents")]),e._v(" "),t(h.a,[e._v("mdi-history")])],1),e._v(" "),null!=e.groupId?t(r.a,{on:{click:e.deleteDocumentFromGroup}},[t("span",[e._v("Delete")]),e._v(" "),t(h.a,[e._v("mdi-delete-circle")])],1):e._e(),e._v(" "),null==e.groupId?t(r.a,{on:{click:e.deleteDocument}},[t("span",[e._v("Move To Trash")]),e._v(" "),t(h.a,[e._v("mdi-delete-circle")])],1):e._e()],1):e._e()],1):t("div",{staticClass:"text-center"},[e.sheet?t(o.a,{staticClass:"!fixed right-0 z-50",attrs:{color:"primary"}},[t(r.a,{on:{click:e.putBackDocs}},[t("span",[e._v("Put Back")]),e._v(" "),t(h.a,[e._v("mdi-file-undo")])],1),e._v(" "),t(r.a,{on:{click:e.deletePermanently}},[t("span",[e._v("Delete Permanently")]),e._v(" "),t(h.a,[e._v("mdi-delete-forever-outline")])],1)],1):e._e()],1),e._v(" "),e.collections?t("CollectionShowAllDialog",{attrs:{dialog:e.addCollectionDialog,items:e.collections},on:{"colse-dialog":function(t){e.addCollectionDialog=!1},"add-document-collection":e.addDocumentCollection}}):e._e(),e._v(" "),e.groups?t("GroupShowAllDialog",{attrs:{dialog:e.addGroupDialog,items:e.groups},on:{"colse-dialog":function(t){e.addGroupDialog=!1},"add-document-group":e.addDocumentGroup}}):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CollectionShowAllDialog:n(616).default,GroupShowAllDialog:n(617).default})},608:function(e,t,n){var content=n(645);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("42bcf2fa",content,!0,{sourceMap:!1})},616:function(e,t,n){"use strict";n.r(t);var o=n(271),r=n(266),c=n(8),l=n(601),d=n(568),m=n(563),f=(n(36),n(57),{props:{dialog:{type:Boolean,default:!1},items:{type:Array,default:[]}},data:function(){return{dialogModal:this.dialog,selected:[]}},computed:{formattedItems:function(){if(this.items&&Array.isArray(this.items))return this.items.map((function(e){return{id:e.id,name:e.collectionName+" ( "+e.parentCollectionName+" )"}}))}},watch:{dialog:function(){this.dialogModal=this.dialog}},methods:{closeDialog:function(){this.$emit("colse-dialog")},addDocument:function(){this.$emit("add-document-collection",this.selected)}}}),v=n(27),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;return t(d.a,{attrs:{persistent:"","max-width":"400",scrollable:""},model:{value:e.dialogModal,callback:function(t){e.dialogModal=t},expression:"dialogModal"}},[t(r.a,[t(c.c,{staticClass:"text-h5"},[e._v("My Collections ")]),e._v(" "),t(c.b,e._l(e.formattedItems,(function(n){return t(l.a,{key:n.id,attrs:{label:n.name,value:n.id},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})})),1),e._v(" "),t(c.a,[t(m.a),e._v(" "),t(o.a,{attrs:{color:"green darken-1",text:"",disabled:0==e.selected.length},on:{click:e.addDocument}},[e._v(" Add ")]),e._v(" "),t(o.a,{attrs:{color:"green darken-1",text:""},on:{click:e.closeDialog}},[e._v(" Cancel ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},617:function(e,t,n){"use strict";n.r(t);var o=n(271),r=n(266),c=n(8),l=n(601),d=n(568),m=n(563),f=(n(36),n(57),{props:{dialog:{type:Boolean,default:!1},items:{type:Array,default:[]}},data:function(){return{dialogModal:this.dialog,selected:[]}},computed:{formattedItems:function(){if(this.items&&Array.isArray(this.items))return this.items.map((function(e){return{id:e.id,name:e.groupName+" ( "+(1===e.statusOwner?"Owner":"Member")+" )"}}))}},watch:{dialog:function(){this.dialogModal=this.dialog}},methods:{closeDialog:function(){this.$emit("colse-dialog")},addDocument:function(){this.$emit("add-document-group",this.selected)}}}),v=n(27),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;return t(d.a,{attrs:{persistent:"","max-width":"400",scrollable:""},model:{value:e.dialogModal,callback:function(t){e.dialogModal=t},expression:"dialogModal"}},[t(r.a,[t(c.c,{staticClass:"text-h5"},[e._v("My Groups ")]),e._v(" "),t(c.b,e._l(e.formattedItems,(function(n){return t(l.a,{key:n.id,attrs:{label:n.name,value:n.id},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})})),1),e._v(" "),t(c.a,[t(m.a),e._v(" "),t(o.a,{attrs:{color:"green darken-1",text:"",disabled:0==e.selected.length},on:{click:e.addDocument}},[e._v("\n        Add\n      ")]),e._v(" "),t(o.a,{attrs:{color:"green darken-1",text:""},on:{click:e.closeDialog}},[e._v(" Cancel ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},644:function(e,t,n){"use strict";n(608)},645:function(e,t,n){var o=n(17)((function(i){return i[1]}));o.push([e.i,"@keyframes loader{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.v-overlay__scrim{background-color:transparent!important}",""]),o.locals={},e.exports=o}}]);